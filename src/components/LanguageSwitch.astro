---
---
<button
  {...Astro.props}
  id="toggle-lang"
  class="text-2xl px-3 py-1 font-semibold rounded-xl bg-slate-500/10 text-slate-800 dark:bg-white dark:text-slate-800 transition-colors duration-300 ease-in-out"
>
  🌐
</button>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const langToggle = document.getElementById('toggle-lang');
    if (!langToggle) return;

    const currentLang = localStorage.getItem('lang') || 'es';
    const isEnglish = location.pathname.startsWith('/en');

    // Mostrar idioma opuesto como botón
    langToggle.innerText = isEnglish ? '🇪🇸' : '🇺🇸';

    langToggle.addEventListener('click', () => {
      const newLang = isEnglish ? 'es' : 'en';
      localStorage.setItem('lang', newLang);

      // Redirigir a la versión correcta
      if (newLang === 'en') {
        window.location.href = '/en';
      } else {
        window.location.href = '/';
      }
    });
  });
</script>
